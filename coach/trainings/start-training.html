<!doctype html>
<html>
<head>
    <meta charset="utf-8">

    <title>Seyfor</title>
    <meta name="description" content="Fencing">
    <meta name="author" content="ing.jorgeu@gmail.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../css/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
    <style>
        input[type="checkbox"]{
            margin-top: 7px;
        }

        .checkbox > label {
            margin-right: 20px;
        }
    </style>
</head>
<body>
  <nav class="navbar navbar-default navbar-static-top" style="">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">
            <img alt="Brand" src="../img/seyfor_sport_technology_logo.png">
          </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a id="today">Today</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li>
              <a href="#" style="">
                Jorge Urbina
              </a>
            </li>
            <li>
              <a href="#" style="padding: 2px 2px 2px 0;">
                <img src="../img/profile.png" style="height: 46px;border: 2px solid black;border-radius: 30px;">
              </a>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
    </nav>


    <div id="leftbar" class="leftbar-outer">
        <div class="leftbar-middle">
            <div class="leftbar-inner">
                <a id="leftbar-toggler" href="#" onclick="$('#leftbar').toggleClass('open');$('#leftbar-toggler i.fa').toggleClass('fa-arrow-right').toggleClass('fa-arrow-left');"><i class="fa fa-arrow-right" aria-hidden="true"></i></a>
                <ul style="list-style-type: none;padding-left: 0;">
                    <li class="leftbar-icon"><a href="../index.html"><i class="fa fa-home" aria-hidden="true"></i> <span>Home</span></a></li>
                    <li class="leftbar-icon active"><a href="../trainings/index.html"><i class="fa fa-bolt" aria-hidden="true" style="margin: 0 16px;"></i> <span>Trainings</span></a></li>
                    <li class="leftbar-icon"><a href="../tournaments/new-tournament.html"><i class="fa fa-sitemap" aria-hidden="true"></i> <span>Tournaments</span></a></li>
                    <li class="leftbar-icon"><a href="../fencers/index.html"><i class="fa fa-user" aria-hidden="true" style="margin: 0 14px;"></i> <span>Fencers</span></a></li>
                    <!--<li class="leftbar-icon"><a href="#"><i class="fa fa-hourglass" aria-hidden="true" style="margin: 0 11px;"></i> <span>Week Program</span></a></li>-->
                    <li class="leftbar-icon"><a href="../calendar/index.html"><i class="fa fa-calendar" aria-hidden="true"></i> <span>Calendar</span></a></li>
                </ul>
            </div>
        </div>
    </div>

    <div id="content" class="leftbar-outer">
        <div class="leftbar-middle">
            <div class="leftbar-inner">
              <div class="container grow-container">
                  <h2>Start training</h2>
                  <div class="row">
                    <form action="index.html" class="form-horizontal col-xs-12" style="margin-top: 10px;">
                      <div class="form-group">
                          <label for="inputTraining" class="col-xs-2 control-label">Training</label>
                          <div class="col-xs-10">
                              <select type="text" class="form-control" id="inputTraining">
                              </select>
                          </div>
                      </div>
                        <div class="form-group">
                          <label for="inputPiste" class="col-xs-2 control-label">Piste</label>
                          <div class="col-xs-10">
                            <div class="checkbox">
                                <label>
                                  <input type="checkbox" value="">
                                  1
                                </label>
                                <label>
                                  <input type="checkbox" value="">
                                  2
                                </label>
                                <label>
                                  <input type="checkbox" value="">
                                  3
                                </label>
                                <label>
                                  <input type="checkbox" value="">
                                  4
                                </label>
                            </div>
                          </div>
                        </div>
                        <div class="form-group">
                          <label for="inputTheme" class="col-xs-2 control-label">Theme:</label>
                          <div class="col-xs-4">
                              <span id="inputTheme" style="line-height: 28px;"></span>
                          </div>
                          <label for="inputCategory" class="col-xs-2 control-label">Category:</label>
                          <div class="col-xs-4">
                              <span id="inputCategory" style="line-height: 28px;"></span>
                          </div>
                        </div>
                        <div class="form-group">
                          <label for="inputExercise" class="col-xs-2 control-label">Exercises</label>
                          <div class="col-xs-10">
                              <span id="inputExercise" style="line-height: 28px;"></span>
                          </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-2 control-label">Participants</label>
                            <div id="participants" class="col-xs-10">

                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-xs-offset-2 col-xs-10">
                                <button id="start-training" type="submit" class="btn btn-default" style="float: right;"><span style="color: black;" class="glyphicon glyphicon-ok"></span> Start Training</button>
                            </div>
                        </div>
                      </form>
                  </div>
              </div>
            </div>
        </div>

    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="https://use.fontawesome.com/60130e230f.js"></script>
    <script src="../js/moment-with-locales.js"></script>
    <script src="../js/common.js"></script>
    <script>
        $(function() {
            var trainings = localStorage.trainings;
            if (trainings){
                trainings = JSON.parse(trainings);
            } else {
                trainings = [];
            }

            var staticExercises = [
                {
                  "id": 0,
                  "name": "Body Strength Routine",
                  "theme": "U-654987",
                  "numberOfTouch": "654",
                  "dutarion": 25,
                  "advises": "Don't over do it"
                },
                {
                  "id": 1,
                  "name": "Flexibility Routine",
                  "theme": "U-66498",
                  "numberOfTouch": "21",
                  "dutarion": 20,
                  "advises": "Be persistant"
                },
                {
                  "id": 2,
                  "name": "Speed Routine",
                  "theme": "U-0903295",
                  "numberOfTouch": "33",
                  "dutarion": 14,
                  "advises": "It takes some time to see the first results"
                },
                {
                  "id": 3,
                  "name": "Coordination Routine",
                  "theme": "U-545661",
                  "numberOfTouch": "47",
                  "dutarion": 15,
                  "advises": "Coordination is as important as everything else"
                }
            ];

            var exercises = localStorage.exercises;
            if (exercises){
                exercises = JSON.parse(exercises);
            } else {
                exercises = [];
            }

            exercises = staticExercises.concat(exercises);


            $("#inputTraining").change(function(e){
                var trainingId = $("#inputTraining").val();
                var currentTraining;
                $.each(trainings, function(index){
                    if (this.id == trainingId){
                        currentTraining = this;
                        return false;
                    }
                })
                $("#inputCategory").text(currentTraining.category);
                $("#inputTheme").text(currentTraining.theme);
                if (typeof currentTraining.exercise == "string"){
                    var identifier = currentTraining.exercise;
                    var theExercise;
                    $.each(exercises, function(){
                        if (this.id == identifier){
                            theExercise = this;
                        }
                    });
                    if (theExercise){
                        currentTraining.exercise = [theExercise];
                    } else {
                        currentTraining.exercise = [{name: currentTraining.exercise}];
                    }


                }
                $("#inputExercise").html('');
                $.each(currentTraining.exercise, function() {
                    $("#inputExercise").append("<span>" + this.name + "</span><br>");
                });
                $("#participants").html('');
                $.each(currentTraining.participants, function () {
                    var suggestion = fencers[this];
                    $("#participants").append("<div class='col-xs-6'><div class='participant'><img src='" + suggestion.img + "'>" + suggestion.value + "</div></div>");
                });
            });

            $.each(trainings,function (index){
                $("#inputTraining").append("<option value=\"" + this.id + "\">" + this.title + "</option>");
            })

            $("#inputTraining").change();

        });
    </script>
</body>
</html>
